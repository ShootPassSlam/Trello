(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{12:function(e,t,n){e.exports={commentFrame:"InputComment_commentFrame__3p9gA",commentBox:"InputComment_commentBox__30yLY",commentBoxInput:"InputComment_commentBoxInput__UB0NJ",comments:"InputComment_comments__2N9jt",commentsContainer:"InputComment_commentsContainer__1CC_A",commentContainer:"InputComment_commentContainer__3I_eC",comment:"InputComment_comment__nl1NT",buttons:"InputComment_buttons__eHfnK",closeButton:"InputComment_closeButton__2I-Kp",confirmationButtons:"InputComment_confirmationButtons__38KYV",FormAcceptButton:"InputComment_FormAcceptButton__AY_3s"}},131:function(e,t,n){e.exports={Board:"Board_Board__2dZB0"}},132:function(e,t,n){e.exports={BoardTitle:"BoardTitle_BoardTitle__jGYQa"}},133:function(e,t,n){e.exports={Topbar:"Topbar_Topbar__22Hhp",DesktopOnly:"Topbar_DesktopOnly__2AfU4"}},134:function(e,t,n){e.exports={Lists:"Lists_Lists__2XWHD"}},140:function(e,t,n){e.exports={Modal:"Modal_Modal__2DBTJ"}},141:function(e,t,n){e.exports={Backdrop:"Backdrop_Backdrop__1E053"}},143:function(e,t,n){e.exports=n(368)},148:function(e,t,n){},149:function(e,t,n){},15:function(e,t,n){e.exports={CardContainer:"Card_CardContainer__3iUTY",Card:"Card_Card__2a_e7",CardDragging:"Card_CardDragging__wSZPd",NoCardsPlaceholderDragging:"Card_NoCardsPlaceholderDragging__31-PY",NoCardsPlaceholder:"Card_NoCardsPlaceholder__3v5hn",FormEdit:"Card_FormEdit__3EFHm",FormHidden:"Card_FormHidden__ruzNh",Edit:"Card_Edit__T5s5d"}},16:function(e,t,n){e.exports={commentTitle:"Comments_commentTitle__170Jm",commentsContainer:"Comments_commentsContainer__19dCd",commentIcon:"Comments_commentIcon__2L1hw",commentUserIcon:"Comments_commentUserIcon__2iu5V",commentFrame:"Comments_commentFrame__1Fu2T",commentBox:"Comments_commentBox__37K4B",commentBoxInput:"Comments_commentBoxInput__1pVgG",commentInfo:"Comments_commentInfo__2hx87",commentListItem:"Comments_commentListItem__Qglm1",commentAuthor:"Comments_commentAuthor__3x7VN",commentAuthorIcon:"Comments_commentAuthorIcon__SILw2",commentDate:"Comments_commentDate__e2ib8"}},19:function(e,t,n){e.exports={windowHeader:"CardDetail_windowHeader__3lrxU",windowHeaderIcon:"CardDetail_windowHeaderIcon__3OcIM",windowTitle:"CardDetail_windowTitle__qtCdE",windowMain:"CardDetail_windowMain__255Hg",windowSidebar:"CardDetail_windowSidebar__1ksKK",windowHeaderList:"CardDetail_windowHeaderList__3tGeq",closeButton:"CardDetail_closeButton__33bwD",Close:"CardDetail_Close__o3m5C",gutter:"CardDetail_gutter__CQh-b"}},25:function(e,t,n){e.exports={InputCard:"InputCard_InputCard__2tRlx",Buttons:"InputCard_Buttons__2bBg9",FormAcceptButton:"InputCard_FormAcceptButton__GWtDZ",FormCancelButton:"InputCard_FormCancelButton__1F_nA",Cancel:"InputCard_Cancel__1DY4T",InputCardButton:"InputCard_InputCardButton__3VExW"}},26:function(e,t,n){e.exports={InputList:"InputList_InputList__MCSBJ",Buttons:"InputList_Buttons__yg6hW",FormAcceptButton:"InputList_FormAcceptButton__KdJXD",FormCancelButton:"InputList_FormCancelButton__Z6PLT",Cancel:"InputList_Cancel__3WoYl",InputListButton:"InputList_InputListButton__2DJDq"}},368:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(129),c=n.n(o),i=(n(148),n(5)),s=n(6),m=n(8),l=n(7),d=n(9),u=(n(149),n(372)),p=n(373),f=n(10),h=n(21),C=n.n(h),_=n(131),v=n.n(_),E=n(132),I=n.n(E),g=function(e){return r.a.createElement("header",{className:I.a.BoardTitle},"Demo Board")},b=n(133),O=n.n(b),D=function(e){return r.a.createElement("nav",{className:O.a.Topbar},"Trello")},x=n(134),j=n.n(x),N=n(18),y=n(369),w=n(15),A=n.n(w),L=n(135),B=n.n(L),T="card",k=function(e){function t(){var e,n;Object(i.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(m.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(r)))).state={isHovered:!1},n.mouseIn=function(){n.setState(function(e){return{isHovered:!0}})},n.mouseOut=function(){n.setState(function(e){return{isHovered:!1}})},n}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e,t=this,n=this.props,a=n.id,o=n.title,c=n.isOver,i=n.connectDragSource,s=n.connectDropTarget,m=n.item,l=this.state.isHovered&&!m?A.a.FormEdit:A.a.FormHidden,d=A.a.CardContainer,u=A.a.Card;return m&&m.originalCard===this.props.card&&c&&(d=A.a.CardDragging,u=A.a.CardDragging,e=50,l=A.a.NoCardsPlaceholder),this.props.isEmptyList&&(d=A.a.NoCardsPlaceholder),this.props.isEmptyList&&this.props.isOver&&(d=A.a.NoCardsPlaceholderDragging),i(s(r.a.createElement("div",{className:d,ref:function(e){t.myElement=e},onMouseEnter:this.mouseIn,onMouseLeave:this.mouseOut,style:{height:e}},r.a.createElement(y.a,{to:{pathname:"/card/".concat(a),state:{modal:!0}},style:{textDecoration:"none",color:"black"}},r.a.createElement("div",{className:u},o),r.a.createElement("span",{className:l},r.a.createElement(B.a,{className:A.a.Edit,style:{fontSize:20}}))))))}}]),t}(a.Component),S=Object(N.DropTarget)(T,{canDrop:function(){return!1},hover:function(e,t){var n=t.getItem().originalCard,a=e.cardIndex,r=e.listIndex;if(n!==e.card){var o=e.findCard(n),c=o.card,i=o.draggedCardIndex,s=o.draggedListIndex;e.cardMove(s,r,i,a,c)}}},function(e,t){return{connectDropTarget:e.dropTarget(),item:t.getItem()}})(Object(N.DragSource)(T,{beginDrag:function(e){return{originalCard:e.card,originalCardIndex:e.cardIndex,originalListIndex:e.listIndex}},endDrag:function(e,t){var n=t.getItem(),a=n.originalCardIndex,r=n.originalListIndex,o=n.originalCard;if(!t.didDrop()){var c=e.findCard(o),i=c.card,s=c.draggedCardIndex,m=c.draggedListIndex;e.cardMove(m,r,s,a,i)}}},function(e,t){return{connectDragSource:e.dragSource(),isDragging:t.isDragging()}})(k)),M=n(25),F=n.n(M),H=n(62),R=n.n(H),P=function(e){function t(){var e,n;Object(i.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(m.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(r)))).state={cardName:"",inputActive:!1},n.handleChange=function(e){n.setState({cardName:e.target.value})},n.handleSubmit=function(e){e.preventDefault();var t={id:"card".concat(n.props.cards.length+1),listIndex:n.props.listIndex,title:n.state.cardName,comments:[]};n.props.createNewCard(t),n.setState({cardName:""})},n.inputActiveHandler=function(){n.setState({inputActive:!0})},n.inputInactiveHandler=function(){n.setState({inputActive:!1})},n.handleClickOutside=function(e){n.wrapperRef&&!n.wrapperRef.contains(e.target)&&n.setState({inputActive:!1})},n}return Object(d.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){document.addEventListener("mousedown",this.handleClickOutside)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("mousedown",this.handleClickOutside)}},{key:"componentDidUpdate",value:function(){this.state.inputActive&&this.inputRef.focus()}},{key:"render",value:function(){var e=this,t=this.state.cardName.length>0,n=this.props.cards?"+ Add another card":"+ Add a card",a=r.a.createElement("div",{ref:function(t){e.wrapperRef=t},className:F.a.InputCard},r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement("textarea",{ref:function(t){e.inputRef=t},type:"text",value:this.state.cardName,onChange:this.handleChange,placeholder:"Enter card title..."}),r.a.createElement("div",{className:F.a.Buttons},r.a.createElement("button",{className:F.a.FormAcceptButton,disabled:!t},"Add Card"),r.a.createElement("button",{className:F.a.FormCancelButton,type:"button",onClick:this.inputInactiveHandler},r.a.createElement(R.a,{className:F.a.Cancel})))));return this.state.inputActive||(a=r.a.createElement("button",{className:F.a.InputCardButton,onClick:this.inputActiveHandler},n)),a}}]),t}(a.Component),U=n(84),W=n.n(U),V="card",Y="lists",J=function(e){function t(){var e,n;Object(i.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(m.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(r)))).findCardHandler=function(e){return{card:e,draggedCardIndex:n.props.cards.indexOf(e),draggedListIndex:n.props.cards[n.props.cards.indexOf(e)].listIndex}},n}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e,t,n=this,a=this.props,o=a.connectDropTarget,c=a.connectDragSource,i=a.connectDropTargetCard,s=a.isOver,m=a.isOverlocally,l=(e=this.props.cards,t=this.props.listIndex,e.filter(function(e){return e.listIndex===t})),d=W.a.List;m&&(d=W.a.ListDragging);var u=r.a.createElement(S,{id:"NOID",index:0,listIndex:this.props.listIndex,findCard:this.findCardHandler,cardMove:this.props.onCardMoved,isEmptyList:!0,isOver:s});return l.length>0&&(u=l.map(function(e,t){return r.a.createElement(S,{key:t,cardIndex:n.props.cards.indexOf(e),listIndex:n.props.listIndex,id:e.id,title:e.title,card:e,findCard:n.findCardHandler,cardMove:n.props.onCardMoved,isEmptyList:!1,isOver:s})})),c(o(i(r.a.createElement("div",{className:d},r.a.createElement("header",null,this.props.listName),u,r.a.createElement(P,{createNewCard:this.props.onCardAdded,cards:this.props.cards,listIndex:this.props.listIndex})))))}}]),t}(a.Component),K=Object(N.DropTarget)(Y,{canDrop:function(){return!1},hover:function(e,t){var n=t.getItem().originalList,a=e.listIndex;if(n!==e.list){var r=e.findList(n);e.listMove(r,a)}}},function(e,t){return{connectDropTarget:e.dropTarget(),isOverlocally:t.isOver()}})(Object(N.DragSource)(Y,{beginDrag:function(e){return{listIndex:e.listIndex,originalList:e.list}},endDrag:function(e,t){}},function(e,t){return{connectDragSource:e.dragSource()}})(Object(N.DropTarget)(V,{drop:function(){}},function(e,t){return{connectDropTargetCard:e.dropTarget(),isOver:t.isOver()}})(Object(f.b)(function(e){return{cards:e.cards}},function(e){return{onCardAdded:function(t){return e((n=t,function(e){C.a.post("https://trello-33445.firebaseio.com/cards.json",n).then(function(t){e({type:"ADD_CARD",newCard:n})}).catch(function(t){e(function(e){return{type:"ADD_CARD_FAILED",error:e}}(t))})}));var n},onCardMoved:function(t,n,a,r,o){return e(function(e,t,n,a,r){return{type:"MOVE_CARD",draggedListIndex:e,hoverListIndex:t,draggedCardIndex:n,hoverCardIndex:a,card:r}}(t,n,a,r,o))}}})(J)))),z=n(26),Z=n.n(z),G=function(e){function t(){var e,n;Object(i.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(m.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(r)))).state={listName:"",inputActive:!1},n.handleChange=function(e){n.setState({listName:e.target.value})},n.handleSubmit=function(e){e.preventDefault(),n.props.onListAdded(n.state.listName),n.setState({listName:""})},n.inputActiveHandler=function(){n.setState({inputActive:!0})},n.inputInactiveHandler=function(){n.setState({inputActive:!1})},n.handleClickOutside=function(e){n.wrapperRef&&!n.wrapperRef.contains(e.target)&&n.setState({inputActive:!1})},n}return Object(d.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){document.addEventListener("mousedown",this.handleClickOutside)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("mousedown",this.handleClickOutside)}},{key:"componentDidUpdate",value:function(){this.state.inputActive&&this.inputRef.focus()}},{key:"render",value:function(){var e=this,t=this.state.listName.length>0,n=this.props.listCounter>0?"+ Add another list":"+ Add a list",a=r.a.createElement("div",{ref:function(t){e.wrapperRef=t},className:Z.a.InputList},r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement("input",{ref:function(t){e.inputRef=t},type:"text",value:this.state.listName,onChange:this.handleChange,placeholder:"Enter list title..."}),r.a.createElement("div",{className:Z.a.Buttons},r.a.createElement("button",{className:Z.a.FormAcceptButton,disabled:!t},"Add List"),r.a.createElement("button",{className:Z.a.FormCancelButton,type:"button",onClick:this.inputInactiveHandler},r.a.createElement(R.a,{className:Z.a.Cancel})))));return this.state.inputActive||(a=r.a.createElement("button",{className:Z.a.InputListButton,onClick:this.inputActiveHandler},n)),a}}]),t}(a.Component),q=Object(f.b)(function(e){return{listCounter:e.listCounter}},function(e){return{onListAdded:function(t){return e({type:"ADD_LIST",listName:t})}}})(G),Q=n(136),X=n.n(Q),$=function(e){function t(){var e,n;Object(i.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(m.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(r)))).findListHandler=function(e){return n.props.lists.indexOf(e)},n}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this,t=this.props.connectDropTarget,n=this.props.lists.map(function(t,n){return r.a.createElement(K,{key:n,listIndex:n,listName:t.text,list:t,findList:e.findListHandler,listMove:e.props.onListMoved})});return t(r.a.createElement("div",{className:j.a.Lists},n,r.a.createElement(q,null)))}}]),t}(a.Component),ee=Object(N.DragDropContext)(X.a)(Object(N.DropTarget)("lists",{drop:function(){}},function(e,t){return{connectDropTarget:e.dropTarget()}})(Object(f.b)(function(e){return{lists:e.lists}},function(e){return{onListMoved:function(t,n){return e(function(e,t){return{type:"MOVE_LIST",originalListIndex:e,newListIndex:t}}(t,n))}}})($))),te=function(e){return e.children},ne=function(e){function t(){return Object(i.a)(this,t),Object(m.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.props.onInitBoards(),this.props.onInitCard()}},{key:"render",value:function(){return r.a.createElement(te,null,r.a.createElement(D,null),r.a.createElement("div",{className:v.a.Board},r.a.createElement(g,null),r.a.createElement(ee,null)))}}]),t}(a.Component),ae=Object(f.b)(null,function(e){return{onInitBoards:function(){return e(function(e){C.a.all([C.a.get("https://trello-33445.firebaseio.com/lists.json"),C.a.get("https://trello-33445.firebaseio.com/cards.json"),C.a.get("https://trello-33445.firebaseio.com/counters.json")]).then(C.a.spread(function(t,n,a){var r,o,c,i,s;e((r=t.data,o=Object.values(n.data),c=a.data.listCounter,i=a.data.cardCounter,s=a.data.commentCounter,{type:"SET_BOARDS",lists:r,cards:o,listCounter:c,cardCounter:i,commentCounter:s}))})).catch(function(t){e({type:"FETCH_BOARDS_FAILED"})})})},onInitCard:function(){return e(function(e){C.a.get("https://trello-33445.firebaseio.com/comments.json").then(function(t){e({type:"SET_CARD",comments:t.data})}).catch(function(t){e({type:"FETCH_CARD_FAILED"})})})}}})(ne),re=n(370),oe=n(19),ce=n.n(oe),ie=n(43),se=n.n(ie),me=n(137),le=n.n(me),de=function(e){function t(){return Object(i.a)(this,t),Object(m.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:se.a.description},r.a.createElement("span",null,r.a.createElement(le.a,{className:se.a.descriptionIcon,style:{fontSize:24}})),r.a.createElement("div",{className:se.a.descriptionTitle},r.a.createElement("h3",null,"Description")),r.a.createElement("div",null,r.a.createElement("button",{className:se.a.descriptionField,href:"#"},"Add a more detailed description\u2026")))}}]),t}(a.Component),ue=(Object(f.b)(function(e){return{lists:e.lists,cards:e.cards,comments:e.comments}})(de),n(16)),pe=n.n(ue),fe=n(12),he=n.n(fe),Ce=n(63),_e=n.n(Ce),ve=function(e){function t(){var e,n;Object(i.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(m.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(r)))).state={commentText:"",inputActive:!1},n.handleChange=function(e){n.setState({commentText:e.target.value})},n.handleSubmit=function(e){e.preventDefault(),n.props.newComment?n.props.onNewComment(n.state.commentText,"Placeholder",n.props.cardId):n.props.onUpdateComment(n.props.commentIndex,n.state.commentText),n.setState({inputActive:!1})},n.handleDelete=function(e){n.props.handleDelete(n.props.commentIndex,n.props.cardId)},n.inputActiveHandler=function(){n.setState({inputActive:!0},function(){n.inputRef.select()})},n.inputInactiveHandler=function(){n.setState({inputActive:!1})},n.handleClickOutside=function(e){n.wrapperRef&&!n.wrapperRef.contains(e.target)&&n.setState({inputActive:!1})},n}return Object(d.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){document.addEventListener("mousedown",this.handleClickOutside),this.props.newComment||this.setState({commentText:this.props.comment.text})}},{key:"componentWillUnmount",value:function(){document.removeEventListener("mousedown",this.handleClickOutside)}},{key:"render",value:function(){var e=this,t=this.state.commentText.length>0,n=this.props.comment?"":"You haven't typed anything!",a=r.a.createElement("div",{ref:function(t){e.wrapperRef=t},className:he.a.commentsContainer},r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement("div",{className:he.a.commentFrame},r.a.createElement("div",{className:he.a.commentBox},r.a.createElement("textarea",{ref:function(t){e.inputRef=t},type:"text",className:he.a.commentBoxInput,value:this.state.commentText,onChange:this.handleChange,placeholder:n}),r.a.createElement("div",{className:he.a.confirmationButtons},r.a.createElement("button",{className:he.a.FormAcceptButton,disabled:!t},"Save"),r.a.createElement("button",{className:he.a.closeButton,onClick:this.inputInactiveHandler},r.a.createElement(_e.a,{className:he.a.Close,style:{fontSize:26}})))))));return this.state.inputActive||(a=this.props.newComment?r.a.createElement("form",null,r.a.createElement("div",{className:he.a.commentFrame},r.a.createElement("div",{className:he.a.commentBox},r.a.createElement("textarea",{className:he.a.commentBoxInput,placeholder:"Write a comment\u2026",onClick:this.inputActiveHandler})))):r.a.createElement(te,null,r.a.createElement("div",{className:he.a.commentContainer},r.a.createElement("div",{className:he.a.comment},this.props.comment.text)),r.a.createElement("div",{className:he.a.buttons},r.a.createElement("button",{onClick:this.inputActiveHandler},"Edit"),r.a.createElement("span",null,"-"),r.a.createElement("button",{onClick:this.handleDelete},"Delete")))),a}}]),t}(a.Component),Ee=Object(f.b)(null,function(e){return{onUpdateComment:function(t,n){return e(function(e,t){return{type:"UPDATE_COMMENT",commentIndex:e,newCommentText:t}}(t,n))},onNewComment:function(t,n,a){return e(function(e,t,n){return{type:"ADD_COMMENT",commentText:e,author:t,cardId:n}}(t,n,a))}}})(ve),Ie=n(138),ge=n.n(Ie),be=function(e){function t(){return Object(i.a)(this,t),Object(m.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this,t=null;return this.props.commentIds&&(t=this.props.commentIds.map(function(t){var n=e.props.comments.find(function(e){return e.id===t});return r.a.createElement("li",{className:pe.a.commentListItem,key:t},r.a.createElement("div",{className:pe.a.commentAuthorIcon},n.user.charAt(0)),r.a.createElement("div",{className:pe.a.commentInfo},r.a.createElement("span",{className:pe.a.commentAuthor},n.user," "),r.a.createElement("span",{className:pe.a.commentDate},new Date(n.date).toLocaleString(void 0,{day:"numeric",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"}))),r.a.createElement(Ee,{comment:n,commentIndex:e.props.comments.indexOf(n),cardId:e.props.cardId,handleDelete:e.props.onDeleteComment,newComment:!1}))})),r.a.createElement("div",null,r.a.createElement("div",{className:pe.a.commentsContainer},r.a.createElement("span",null,r.a.createElement(ge.a,{className:pe.a.commentIcon,style:{fontSize:24}})),r.a.createElement("div",{className:pe.a.commentTitle},r.a.createElement("h3",null,"Activity")),r.a.createElement("span",{className:pe.a.commentUserIcon},"P"),r.a.createElement(Ee,{cardId:this.props.cardId,newComment:!0})),r.a.createElement("ul",{className:pe.a.comments},t))}}]),t}(a.Component),Oe=Object(f.b)(function(e){return{comments:e.comments}},function(e){return{onDeleteComment:function(t,n){return e(function(e,t){return{type:"DELETE_COMMENT",commentIndex:e,cardId:t}}(t,n))}}})(be),De=n(139),xe=n.n(De),je=function(e){function t(){return Object(i.a)(this,t),Object(m.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this,t=this.props.cards.find(function(t){return t.id===e.props.match.params.id});if(!t)return r.a.createElement(re.a,{to:"/"});var n=this.props.lists[t.listIndex];return r.a.createElement(te,null,r.a.createElement("button",{className:ce.a.closeButton,onClick:function(t){t.stopPropagation(),e.props.history.goBack()},href:"#"},r.a.createElement(_e.a,{className:ce.a.Close,style:{fontSize:26}})),r.a.createElement("div",null,r.a.createElement("div",{className:ce.a.windowHeader},r.a.createElement("span",null,r.a.createElement(xe.a,{className:ce.a.windowHeaderIcon,style:{fontSize:24}})),r.a.createElement("div",{className:ce.a.windowTitle},r.a.createElement("h2",null,t.title)),r.a.createElement("div",{className:ce.a.windowHeaderList},"in list ",r.a.createElement("span",null,n.text))),r.a.createElement("div",{className:ce.a.windowMain},r.a.createElement("div",{className:ce.a.gutter}),r.a.createElement(Oe,{commentIds:t.comments,cardId:t.id})),r.a.createElement("div",{className:ce.a.windowSidebar})))}}]),t}(a.Component),Ne=Object(f.b)(function(e){return{lists:e.lists,cards:e.cards}})(je),ye=n(140),we=n.n(ye),Ae=n(141),Le=n.n(Ae),Be=function(e){return e.show?r.a.createElement("div",{className:Le.a.Backdrop,onClick:e.clicked}):null},Te=function(e){function t(){return Object(i.a)(this,t),Object(m.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement(te,null,r.a.createElement(Be,{show:!0,clicked:function(t){t.stopPropagation(),e.props.history.goBack()}}),r.a.createElement("div",{className:we.a.Modal,style:{transform:"translateY(0)",opacity:"1"}},r.a.createElement(this.props.modalType,this.props)))}}]),t}(a.Component),ke=function(e){function t(){var e,n;Object(i.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(m.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(r)))).previousLocation=n.props.location,n}return Object(d.a)(t,e),Object(s.a)(t,[{key:"componentWillUpdate",value:function(e){var t=this.props.location;"POP"===e.history.action||t.state&&t.state.modal||(this.previousLocation=this.props.location)}},{key:"render",value:function(){var e=this.props.location,t=!(!e.state||!e.state.modal||this.previousLocation===e);return r.a.createElement("div",{className:"App"},r.a.createElement(u.a,{location:t?this.previousLocation:e},r.a.createElement(p.a,{path:"/",exact:!0,component:ae}),r.a.createElement(p.a,{path:"/card/:id",render:function(e){return[r.a.createElement(Te,Object.assign({},e,{key:1,modalType:Ne})),r.a.createElement(ae,Object.assign({},e,{key:2}))]}})),t?r.a.createElement(p.a,{path:"/card/:id",render:function(e){return r.a.createElement(Te,Object.assign({},e,{modalType:Ne}))}}):null)}}]),t}(a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Se=n(371),Me=n(24),Fe=n(27),He=n(13),Re={listCounter:0,cardCounter:0,commentCounter:0,lists:[],cards:[],comments:[],error:!1},Pe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Re,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_LIST":var n={text:t.listName};return Object(He.a)({},e,{listCounter:e.listCounter+1,lists:[].concat(Object(Fe.a)(e.lists),[n])});case"ADD_CARD":return Object(He.a)({},e,{cardCounter:e.cardCounter+1,cards:[].concat(Object(Fe.a)(e.cards),[t.newCard])});case"MOVE_CARD":var a=Object(Fe.a)(e.cards);return t.card.listIndex=t.hoverListIndex,a.splice(t.draggedCardIndex,1),a.splice(t.hoverCardIndex,0,t.card),Object(He.a)({},e,{cards:a});case"MOVE_LIST":var r=Object(Fe.a)(e.lists),o=r.splice(t.originalListIndex,1)[0];r.splice(t.newListIndex,0,o);var c={};e.lists.forEach(function(e,t){e!==r[t]&&(c["".concat(t)]=r.indexOf(e))});var i=e.cards.map(function(e){return void 0!==c[e.listIndex]&&(e.listIndex=c[e.listIndex]),e});return Object(He.a)({},e,{lists:Object(Fe.a)(r),cards:i});case"UPDATE_COMMENT":var s=e.comments[t.commentIndex];return s.text=t.newCommentText,s.date=Date.now(),e.comments[t.commentIndex]=s,Object(He.a)({},e,{comments:Object(Fe.a)(e.comments)});case"DELETE_COMMENT":return Object(He.a)({},e,{commentCounter:e.commentCounter-1,cards:e.cards.map(function(n,a){return n.id!==t.cardId?n:Object(He.a)({},n,{comments:n.comments.filter(function(n,a){return n!==e.comments[t.commentIndex].id})})}),comments:e.comments.filter(function(e,n){return n!==t.commentIndex})});case"ADD_COMMENT":var m={id:"comment".concat(e.commentCounter+1),user:t.author,text:t.commentText,date:Date.now()},l=e.comments.slice();return l.splice(e.commentCounter,0,m),Object(He.a)({},e,{commentCounter:e.commentCounter+1,cards:e.cards.map(function(e,n){if(e.id!==t.cardId)return e;var a=e.comments.slice();return a.splice(a.length,0,m.id),Object(He.a)({},e,{comments:a})}),comments:l});case"SET_BOARDS":return Object(He.a)({},e,{lists:t.lists,cards:t.cards,listCounter:t.listCounter,cardCounter:t.cardCounter,commentCounter:t.commentCounter});case"FETCH_BOARDS_FAILED":return Object(He.a)({},e,{error:!0});case"SET_CARD":return Object(He.a)({},e,{comments:t.comments});case"FETCH_CARD_FAILED":case"ADD_CARD_FAILED":return Object(He.a)({},e,{error:!0});default:return e}},Ue=n(142),We=Me.compose,Ve=Object(Me.createStore)(Pe,We(Object(Me.applyMiddleware)(Ue.a))),Ye=r.a.createElement(f.a,{store:Ve},r.a.createElement(Se.a,null,r.a.createElement(p.a,{component:ke})));c.a.render(Ye,document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},43:function(e,t,n){e.exports={descriptionTitle:"Description_descriptionTitle__2Jv7O",description:"Description_description__1Zw7m",descriptionIcon:"Description_descriptionIcon__VOIdy",descriptionField:"Description_descriptionField__m_E3K"}},84:function(e,t,n){e.exports={List:"List_List__xoNiv",ListDragging:"List_ListDragging__1B8M-"}}},[[143,1,2]]]);
//# sourceMappingURL=main.c9614d12.chunk.js.map